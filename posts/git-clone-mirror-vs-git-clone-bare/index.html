<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>git clone --mirror vs git clone --bare | Jason Meridth's Blog</title>

                <link href="../../assets/css/bitter.css" rel="stylesheet" type="text/css">
        <link href="../../assets/css/main.css" rel="stylesheet" type="text/css">
        <link href="../../assets/css/rst.css" rel="stylesheet" type="text/css">
        <link href="../../assets/css/code.css" rel="stylesheet" type="text/css">

                <link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">

      <link rel="canonical" href="http://blog.jasonmeridth.com/posts/git-clone-mirror-vs-git-clone-bare/">



    
        <!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->

    

    
    <meta name="author" content="Jason Meridth">
            <meta name="og:title" content="git clone --mirror vs git clone --bare">
        <meta name="og:url" content="http://blog.jasonmeridth.com/posts/git-clone-mirror-vs-git-clone-bare/">
            <meta name="og:description" content="I setup GitWeb at work recently. It is very fast and extremely useful. I noticed that the repositories the web view was looking at didn’t show any tags or other branches. Only the master branch. I had">
        <meta name="og:site_name" content="Jason Meridth's Blog">
        <meta name="og:type" content="article">

    
    

</head>
<body>
    <section class="social">
        <ul>
                    <li><a href="../../index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="http://jasonmeridth.com" title="About Me"><i class="icon-user"></i></a></li>
            <li><a href="../../archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="../../categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="https://github.com/jmeridth" title="Github"><i class="icon-github"></i></a></li>
            <li><a href="https://twitter.com/jmeridth" title="Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="icon-rss"></i></a></li>

        </ul>
    </section>
    <section class="page-content">
        <div class="content" rel="main">
    <div class="post">
        <h1 class="p-name entry-title" itemprop="headline name">git clone --mirror vs git clone --bare</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2012-03-30T00:00:00-05:00">Mar 30, 2012</time>
            
            
            </div>
                    <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../../categories/git/" rel="tag">git</a></li>
        </ul>
        </div>

        </div>
        <div class="body">
            <div>
<p>I setup <a href="http://progit.org/book/ch4-6.html">GitWeb</a> at work recently. It is very fast and extremely useful. I noticed that the repositories the web view was looking at didn’t show any tags or other branches. Only the master branch. I had used</p>
<pre class="code literal-block">git clone --bare git@host:repository.git
</pre>


<p>to get the code. This ensures that no working directory is created. Pretty much only the contents of the .git directory. In order to get the .git directory but also any tags, non-master branches, etc, I learned to use:</p>
<pre class="code literal-block">git clone --mirror git@host:repository.git
</pre>


<p>By definition from the man page of <a href="http://schacon.github.com/git/git-clone.html">git clone</a>:</p>
<pre class="code literal-block">--mirror
    Set up a mirror of the <span class="nb">source </span>repository. This implies --bare. Compared to --bare,
    --mirror not only maps <span class="nb">local </span>branches of the <span class="nb">source </span>to <span class="nb">local </span>branches of the target,
    it maps all refs <span class="o">(</span>including remote-tracking branches, notes etc.<span class="o">)</span> and sets up a
    refspec configuration such that all these refs are overwritten by a git remote
    update in the target repository.
</pre>


<p>After I used <code>--mirror</code> instead of <code>--bare</code>, the other branches and tags showed up. Winning.</p>
</div>
        </div>
                <ul class="pager">
            <li class="previous">
                <a href="../how-to-capture-exception-message-from-assert-throws/" rel="prev" title="How to Capture the Exception Message From Assert.Throws in NUnit">Previous post</a>
            </li>
            <li class="next">
                <a href="../do-not-issue-pull-requests-from-your-master-branch/" rel="next" title="Do Not Issue Pull Requests From Your Master Branch">Next post</a>
            </li>
        </ul>

                            <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="jasonmeridth",
            disqus_url="http://blog.jasonmeridth.com/posts/git-clone-mirror-vs-git-clone-bare/",
        disqus_title="git clone --mirror vs git clone --bare",
        disqus_identifier="cache/posts/git-clone-mirror-vs-git-clone-bare.html",
        disqus_config = function () {
            this.language = "";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        
    </div>
                    <footer id="footer" role="contentinfo">
            <p>Contents © 2015         <a href="mailto:jason@jasonmeridth.com">Jason Meridth</a> - Powered by <a href="http://getnikola.com" rel="nofollow">Nikola</a> <br>↑ ↑ ↓ ↓ ← → ← → B A select start</p>
            
        </footer>

        </div>
    </section>
    
    
                <script src="../../assets/js/jquery-1.10.2.min.js" type="text/javascript"></script>
            <script src="../../assets/js/jquery.timeago.js" type="text/javascript"></script>
    
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul>
<li>
<a class="addthis_button_facebook"></a>
</li>
<li>
<a class="addthis_button_google_plusone_share"></a>
</li>
<li>
<a class="addthis_button_linkedin"></a>
</li>
<li>
<a class="addthis_button_twitter"></a>
</li>
</ul>
</div>
<script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


        <script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
