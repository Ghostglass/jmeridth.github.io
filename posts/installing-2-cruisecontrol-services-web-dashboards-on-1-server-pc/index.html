<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta charset="utf-8"><meta name="author" content="Jason Meridth"><title>Installing 2 CruiseControl services/web dashboards on 1 server/PC | Jason Meridth's Blog</title><link href="../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="../../assets/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"><link href="../../assets/css/rst.css" rel="stylesheet" type="text/css"><link href="../../assets/css/code.css" rel="stylesheet" type="text/css"><link href="../../assets/css/colorbox.css" rel="stylesheet" type="text/css"><link href="../../assets/css/theme.css" rel="stylesheet" type="text/css"><link rel="canonical" href="http://blog.jasonmeridth.com/posts/installing-2-cruisecontrol-services-web-dashboards-on-1-server-pc/"><!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml"></head><body>
<!-- Menubar -->
<div class="navbar navbar-fixed-top" id="navbar">
    <div class="navbar-inner">
        <div class="container">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>

            <a class="brand" href="http://blog.jasonmeridth.com/">
            Jason Meridth's Blog
            </a>
            <!-- Everything you want hidden at 940px or less, place within here -->
            <div class="nav-collapse collapse">
                <ul class="nav"><li><a href="../../archive.html">Archives</a>
            
        
    
        
            
                </li><li><a href="../../categories/index.html">Tags</a>
            
        
    
        
            
                </li><li><a href="https://github.com/jmeridth"><img src="http://b038a8f209e36fc36fba-a9b634eed6b534d774260bd8467c190d.r61.cf1.rackcdn.com/github.png" border="0"></a>
            
        
    
        
            
                </li><li><a href="http://twitter.com/jmeridth"><img src="http://b038a8f209e36fc36fba-a9b634eed6b534d774260bd8467c190d.r61.cf1.rackcdn.com/twitter.png" border="0"></a>
            
        
    
        
            
                </li><li><a href="../../rss.xml"><img src="http://b038a8f209e36fc36fba-a9b634eed6b534d774260bd8467c190d.r61.cf1.rackcdn.com/rss.png" border="0"></a>
            
        
    

                </li></ul><!-- Custom search with google--><form id="search" action="http://google.com/search" method="get" class="navbar-form pull-left">
<input type="hidden" name="q" value="site:http://blog.jasonmeridth.com/"><input type="text" name="q" maxlength="255" results="0" placeholder="Search"></form>
<!-- End of custom search -->

                
                <ul class="nav pull-right"></ul></div>
        </div>
    </div>
</div>
<!-- End of Menubar -->
<div class="container-fluid" id="container-fluid">
    <!--Body content-->
    <div class="row-fluid">
    <div class="span2"></div>
    <div class="span8">
    
    <article class="postbox post-text"><div class="h-entry" itemscope="itemscope" itemtype="http://schema.org/Article">
    
    <h1 class="p-name" itemprop="headline name">Installing 2 CruiseControl services/web dashboards on 1 server/PC</h1>
    

    <hr><small>
        Posted: <time class="published dt-published" datetime="2007-10-02T21:45:03-05:00" itemprop="datePublished">Oct 02, 2007</time>
        
    

		
    

          |  
		
		
			<a href="index.md" id="sourcelink">Source</a>
		
		
    </small>
    <hr><div class="e-content" itemprop="articleBody text">
    <div><p>Why? I am currently hosting CruiseControl for an open-source project and I don't want my personal projects to show up on their web dashboard.  I also want a complete separation.  That means theirs is running on its own port number and they have their own Virtual Directory (ccnet) on the Default website. The given CruiseControl.msi file does an excellent job of setting up the first CruiseControl service and virtual directory for you.  I won't go into this much, but you will learn a little bit about what it does because I'm installing my instance manually. </p>
<h3>FILE STRUCTURE</h3>
<p>1. First (easiest way), copy the folder structure created by the msi install and copy it to another folder. <img alt="image" src="jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb.png"> copies to <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_1.png"></p>
<h3>SERVICE</h3>
<p>1. Next edit the following files and the specific lines in your new folder structure: ...CruiseControl.NET2/server/ ccnet.exe.config : Change the port to a new port (default was 21234) ccservice.exe.config : Change the port to a new port (default was 21234) (both files have the following schema) <img alt="image" src="jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_2.png"> 4. Create your new CruiseControl.NET Server service Currently you should have the following in your services manager (Start-&gt; Run: services.msc) (I'm a keyboard junkie, I use Start-&gt;Run for mostly everything) <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_3.png"> Now if you run the following command in the command line you will create another service for your new CruiseControl.NET Server: <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_6.png"> This is using the service command (<a href="http://msdn2.microsoft.com/en-us/library/ms810435.aspx">details here</a>) to install the new service via command line. ***BEWARE:  You have to leave a space after the equals signs or you will get a usage notice (error).  Took me a while to figure that one out. Here is what you should see inside the properties dialog of the new service. <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_5.png"> You should be able to right click the service and choose start.  If you receive an error, be sure to check the ccservice.exe.config file and that the port is different than your other service that is most likely already started.  This is a common error for not starting. <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_4.png"></p>
<h3>WEB DASHBOARD</h3>
<p>1. Edit the ...CruiseControl.NET2webdashboarddashboard.config file with the new port number: Change tcp://localhost:21234/CruiseManager.rem to tcp://localhost:<yourport>/CruiseManager.rem <img alt="image" src="jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_7.png"> 2. Create a new virtual directory on your server/PC for your new dashboard: <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_8.png"> Outside of the default settings created by creating a new Virtual Directory, be aware of the following: <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_10.png"> Local path: C:Program FilesCruiseControl.NET2webdashboard Execure Permissions: Scripts only I also use a unique Application Pool for all my Virtual Directories and Sites. I created a CCNet App Pool for this and my other ccnet Virtual Directory. <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_11.png"> Default Document: default.aspx <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_12.png"> Make sure the site is using ASP.NET 2.0 This should be all you need. When you type: <a href="http://localhost/ccnet2">http://localhost/ccnet2</a> <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_13.png"> Just be aware that when you want to use the latest CCTray, you will need to include the port number if you are going to connect via remoting: <img alt="image" src="http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_14.png"> Connection for dashboard: <a href="http://localhost/ccnet2">http://localhost/ccnet2</a> Connection for .NET remoting: localhost:43555 I haven't used the last one but for those out there that need to, you can connect to non-CruiseControl.NET build servers (CruiseControl for Java).   I know this is brute force and I'm open to all suggestions for a more elegant solution. I'm blogging this for memory and for anyone else who might need it.</yourport></p>
<h3>Comments</h3>
<p><strong><a href=".#137" title="2007-10-03 12:32:07">Jimmy Bogard</a>:</strong> I recently had to do this also, as we have different service accounts for each environment we deploy to. I had to create a different CC.NET service for each service account, but I kept just the one dashboard to monitor all of them. In that case, I just copied the "server" folder inside the CruiseControl.NET folder. But by creating separate dashboards, you can also apply separate IIS authentication and NTFS permissions to each set of CCNET servers it monitors, to give some level of security over who can set off builds.</p></div>
    </div>
    
    </div>
    
    
        <ul class="pager"><li class="previous">
                <a href="../net-internalsvisibleto-attribute-c-friend-assemblies/" rel="prev">← Previous post</a>
            </li>
        
        
            <li class="next">
                <a href="../dell-dimension-3000-remove-hard-drive/" rel="next">Next post →</a>
            </li>
        
        </ul><div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="jasonmeridth",
        
            disqus_url="http://blog.jasonmeridth.com/posts/installing-2-cruisecontrol-services-web-dashboards-on-1-server-pc/",
        
        disqus_title="Installing 2 CruiseControl services/web dashboards on 1 server/PC",
        disqus_identifier="cache/posts/installing-2-cruisecontrol-services-web-dashboards-on-1-server-pc.html",
        disqus_config = function () {
            this.language = "";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>
    

    

    
    
    

    </article></div>
    </div>
    <!--End of body content-->
</div>
<div class="footerbox">
    Contents © 2014         <a href="mailto:jason@jasonmeridth.com">Jason Meridth</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<br><br><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a>
</div>

    
        
            <script src="../../assets/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="../../assets/js/bootstrap.min.js" type="text/javascript"></script><script src="../../assets/js/jquery.colorbox-min.js" type="text/javascript"></script><!-- Social buttons --><div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul><li><a class="addthis_button_facebook"></a>
</li><li><a class="addthis_button_google_plusone_share"></a>
</li><li><a class="addthis_button_linkedin"></a>
</li><li><a class="addthis_button_twitter"></a>
</li></ul></div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script><!-- End of social buttons --><script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});
    $(window).on('hashchange', function(){
        if (location.hash && $(location.hash)[0]) {
            $('body').animate({scrollTop: $(location.hash).offset().top - $('#navbar').outerHeight(true)*1.2 }, 1);
        }
    });
    $(document).ready(function(){$(window).trigger('hashchange')});
    </script></body></html>