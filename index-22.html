<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta charset="utf-8"><meta name="description" content="Learn, Converse, Share"><meta name="author" content="Jason Meridth"><title>Jason Meridth's Blog (old posts, page 22) | Jason Meridth's Blog</title><link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="assets/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"><link href="assets/css/rst.css" rel="stylesheet" type="text/css"><link href="assets/css/code.css" rel="stylesheet" type="text/css"><link href="assets/css/colorbox.css" rel="stylesheet" type="text/css"><link href="assets/css/theme.css" rel="stylesheet" type="text/css"><link rel="canonical" href="http://blog.jasonmeridth.com/index-22.html"><!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml"></head><body>
<!-- Menubar -->
<div class="navbar navbar-fixed-top" id="navbar">
    <div class="navbar-inner">
        <div class="container">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>

            <a class="brand" href="http://blog.jasonmeridth.com/">
            Jason Meridth's Blog
            </a>
            <!-- Everything you want hidden at 940px or less, place within here -->
            <div class="nav-collapse collapse">
                <ul class="nav"><li><a href="archive.html">Archives</a>
            
        
    
        
            
                </li><li><a href="categories/index.html">Tags</a>
            
        
    
        
            
                </li><li><a href="https://github.com/jmeridth"><img src="http://b038a8f209e36fc36fba-a9b634eed6b534d774260bd8467c190d.r61.cf1.rackcdn.com/github.png" border="0"></a>
            
        
    
        
            
                </li><li><a href="http://twitter.com/jmeridth"><img src="http://b038a8f209e36fc36fba-a9b634eed6b534d774260bd8467c190d.r61.cf1.rackcdn.com/twitter.png" border="0"></a>
            
        
    
        
            
                </li><li><a href="rss.xml"><img src="http://b038a8f209e36fc36fba-a9b634eed6b534d774260bd8467c190d.r61.cf1.rackcdn.com/rss.png" border="0"></a>
            
        
    

                </li></ul><!-- Custom search with google--><form id="search" action="http://google.com/search" method="get" class="navbar-form pull-left">
<input type="hidden" name="q" value="site:http://blog.jasonmeridth.com/"><input type="text" name="q" maxlength="255" results="0" placeholder="Search"></form>
<!-- End of custom search -->

                
                <ul class="nav pull-right"></ul></div>
        </div>
    </div>
</div>
<!-- End of Menubar -->
<div class="container-fluid" id="container-fluid">
    <!--Body content-->
    <div class="row-fluid">
    <div class="span2"></div>
    <div class="span8">
    
    
        <article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/using-latest-version-of-git-on-ubuntul/" class="u-url">Using Latest Version of Git on Ubuntu</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-07-11T00:00:00-05:00">Jul 11, 2012</time></small></h1>
        <hr><div class="e-content">
        <div><p>Whenever you do</p>
<div class="code"><pre>sudo apt-get install git-core
</pre></div>


<p>on Ubuntu you will only get git version 1.7.5.x. I needed 1.7.6%2B.</p>
<p>To do this you have to run the following commands:</p>
<div class="code"><pre>sudo apt-get install python-software-properties
sudo add-apt-repository ppa:git-core/ppa
sudo apt-get update
sudo apt-get install git-core
</pre></div>


<p>This should give you git version 1.7.11 (as of today)  </p></div>
        
        </div>
        
            
    
        
    <p>
    
        <a href="posts/using-latest-version-of-git-on-ubuntul/#disqus_thread" data-disqus-identifier="cache/posts/using-latest-version-of-git-on-ubuntu.html">Comments</a>
    

    

        
        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/automatically-execute-mistyped-git-commands/" class="u-url">Automatically Execute Mistyped Git Commands</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-05-22T00:00:00-05:00">May 22, 2012</time></small></h1>
        <hr><div class="e-content">
        <div><p>I use the command line with Git. I do this because I type faster than I use my mouse. It is a personal preference. Due to this, I sometimes fat finger Git commands. Yeah, it does happen. For example, I can type:</p>
<div class="code"><pre><span class="nv">$ </span>git chekcout -b new_branch_name
</pre></div>


<p>Notice the checkout command is mistyped (kc instead of ck). I misspell that and branch (usually brnach) often. Git will usually give notice this and give you a suggestion on which command you might have meant.</p>
<p>Example:</p>
<div class="code"><pre><span class="nv">$ </span>git chekcout -b new_branch
git: <span class="s1">'chekcout'</span> is not a git command. See <span class="s1">'git --help'</span>.

Did you mean this?
        checkout
</pre></div>


<p>There is hope for us misspellers. There is a Git config option called <a href="http://git-scm.com/docs/git-config">help.autocorrect</a>. <a href="http://git-scm.com/book/ch7-1.html">“If you set help.autocorrect to 1, Git will automatically run the command if it has only one match under this scenario”</a>.</p>
<p>To set it:</p>
<div class="code"><pre><span class="nv">$ </span>git config --global help.autocorrect 1
</pre></div>


<p>Then when you misspell again:</p>
<div class="code"><pre><span class="nv">$ </span>git chekcout -b new_branch
WARNING: You called a Git <span class="nb">command </span>named <span class="s1">'chekcout'</span>, which does not exist.
Continuing under the assumption that you meant <span class="s1">'checkout'</span>
in 0.1 seconds automatically...
Switched to a new branch <span class="s1">'new_branch'</span>
</pre></div>


<p>Git warns you that it will be making an assumption. That is nice. It just speeds things up and allows me to keep misspelling things. Hardy har har.</p></div>
        
        </div>
        
            
    
        
    <p>
    
        <a href="posts/automatically-execute-mistyped-git-commands/#disqus_thread" data-disqus-identifier="cache/posts/automatically-execute-mistyped-git-commands.html">Comments</a>
    

    

        
        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/git-and-seeing-what-commits-are-not-in-another-branch/" class="u-url">Git and Seeting What Commits Are Not In Another Branch</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-05-22T00:00:00-05:00">May 22, 2012</time></small></h1>
        <hr><div class="e-content">
        <div><p>A common question I get from co-workers is, “How do I see if I already merged my changes into my master branch?”. My usual suggestion was to use git diff<code>but I've started telling them to look at</code>git cherry` (NOT git-cherry-pick).</p>
<p>From <a href="http://git-scm.com/docs/git-cherry">the new Git documentation</a>, git-cherry finds commits not merged upstream.</p>
<p>I use it like this while on the master branch to see what commits are in master that are not on the feature-branch-name branch:</p>
<div class="code"><pre><span class="nv">$ </span>git cherry -v master feature-branch-name
</pre></div>


<p>The -v option prints out the commit SHAs and messages. If I am already on the feature-branch-name branch, I can type the following to get the same effect:</p>
<div class="code"><pre><span class="nv">$ </span>git cherry -v master
</pre></div>


<p>The results typically looks something like:</p>
<div class="code"><pre>%2B a4d0f79fccbbc12a53e8f0e5c2a4ef960ad69ba2 commit 1 message
%2B 7e71afd1faf36f17a0ff506e63cd2ca51496dad3 commit 2 message
%2B 5e815ece05d8813354e60ca1affb8cdb8c5d78fc commit 3 message
%2B 956f4cec5684544066a0d261ff8ac80aff7a57ea commit 4 message
%2B 6c6cdb4342ed935f8fbd38f48f51dec469dd1823 commit 5 message
%2B c3481fd0d6279f5bd45c455b915e0b4b1c0d8909 commit 6 message
</pre></div>


<p>That means those commits are on feature-branch-name branch but not in master</p></div>
        
        </div>
        
            
    
        
    <p>
    
        <a href="posts/git-and-seeing-what-commits-are-not-in-another-branch/#disqus_thread" data-disqus-identifier="cache/posts/git-and-seeing-what-commits-are-not-in-another-branch.html">Comments</a>
    

    

        
        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/nuget-dependency-versioning-and-log4net-1.2.11/" class="u-url">NuGet Dependency Versioning and Log4net 1.2.11</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-04-12T00:00:00-05:00">Apr 12, 2012</time></small></h1>
        <hr><div class="e-content">
        <div><p>Yesterday I got bit in the butt with the now infamous new key for strong naming of log4net 1.2.11 situation. We wrote our nuspec file to have a depdency on log4net, like so:</p>
<div class="code"><pre><span class="nt">&lt;dependencies&gt;</span>
        <span class="nt">&lt;dependency</span> <span class="na">id=</span><span class="s">"log4net"</span> <span class="na">version=</span><span class="s">"1.2.10"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>


<p>Well, to NuGet that means that we allow version 1.2.10 OR greater. Well, since version 1.2.11 had the strong naming change, that caused us dependency issues. We needed to roll back to log4net 1.2.10. The easiest course of action was to learn how to tell the nuspec file that the dependency version we list is the only one we want. I found that information here. We needed to use the brackets. Our nuspec dependencies simply changed to:</p>
<div class="code"><pre><span class="nt">&lt;dependencies&gt;</span>
        <span class="nt">&lt;dependency</span> <span class="na">id=</span><span class="s">"log4net"</span> <span class="na">version=</span><span class="s">"[1.2.10]"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>


<p>Then I went into each solution that was using the package and in the Package Manager Console used the Update-Package command:</p>
<div class="code"><pre><span class="nb">Update-Package</span> <span class="n">MyCompany</span><span class="p">.</span><span class="n">Common</span>
</pre></div>


<p>and the package’s reference to log4net was changed from 1.2.11 back to 1.2.10</p></div>
        
        </div>
        
            
    
        
    <p>
    
        <a href="posts/nuget-dependency-versioning-and-log4net-1.2.11/#disqus_thread" data-disqus-identifier="cache/posts/nuget-dependency-versioning-and-log4net-1.2.11.html">Comments</a>
    

    

        
        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/do-not-issue-pull-requests-from-your-master-branch/" class="u-url">Do Not Issue Pull Requests From Your Master Branch</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-03-30T00:00:00-05:00">Mar 30, 2012</time></small></h1>
        <hr><div class="e-content">
        <div><p><strong>PROBLEM:</strong> You do not want to issue pull requests from your fork’s master branch on <a href="http://github.com">Github.com</a> to the parent repisitory because any new changes you add to the master branch will <strong><em>automatically</em></strong> show up in the pull request. That means changes you did not intend to be there, would now be there.</p>
<p><strong>SOLUTION:</strong> Issue your pull requests from a feature/topic branch</p>
<p><strong>BAD SCENARIO:</strong></p>
<ul><li>Fork repo ABC</li>
<li>Clone it locally (<code>git clone git@github.com:jmeridth/jekyll.git</code>)</li>
<li>Add upstream repo (<code>git remote add upstream git@github.com:mojombo/jekyll.git</code>)</li>
<li>Code fix/feature on master branch<ul><li>don’t forget to add tests/specs and make sure they pass</li>
</ul></li>
<li>Commit code (<code>git add . &amp;&amp; git commit -m “awesome”</code>)</li>
<li>Pull latest from upstream (<code>git pull upstream master</code>)</li>
<li>Push your changes (<code>git push origin master</code>)</li>
<li>On <a href="http://github.com">Github</a> website</li>
</ul><p>The issue here is if you continue to work on your local master branch and push to your fork again, <strong><em>BEFORE</em></strong> the pull request is accepted and merged. Why is this an issue? It is an issue because any further commits on the branch that a pull request is based on will <strong><em>AUTOMATICALLY</em></strong> be added to the pull request. This usually ensures that you are requested to fix the pull request before it will be accepted.</p>
<p><strong>GOOD SCENARIO:</strong></p>
<ul><li>Fork repo ABC</li>
<li>Clone it locally (<code>git clone git@github.com:jmeridth/jekyll.git</code>)</li>
<li>Add upstream repo (<code>git remote add upstream git@github.com:mojombo/jekyll.git</code>)</li>
<li>Create a feature/topic branch (`git checkout -b awesome_feature)</li>
<li>Code fix/feature<ul><li>don’t forget to add tests/specs and make sure they pass</li>
</ul></li>
<li>Commit code on feature/topic branch (<code>git add . &amp;&amp; git commit -m “awesome”</code>)</li>
<li>Checkout master (<code>git checkout master</code>)</li>
<li>Pull latest from upstream (<code>git pull upstream master</code>)</li>
<li>Checkout feature/topic branch (<code>git checkout awesome_feature</code>)</li>
<li>Rebase your changes onto the latest changes in master (<code>git rebase master</code>)</li>
<li>Push your fix/feature branch to your fork (<code>git push origin awesome_feature</code>)</li>
<li>On <a href="http://github.com">Github</a> website</li>
</ul></div>
        
        </div>
        
            
    
        
    <p>
    
        <a href="posts/do-not-issue-pull-requests-from-your-master-branch/#disqus_thread" data-disqus-identifier="cache/posts/do-not-issue-pull-requests-from-your-master-branch.html">Comments</a>
    

    

        
        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/git-clone-mirror-vs-git-clone-bare/" class="u-url">git clone --mirror vs git clone --bare</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-03-30T00:00:00-05:00">Mar 30, 2012</time></small></h1>
        <hr><div class="e-content">
        <div><p>I setup <a href="http://progit.org/book/ch4-6.html">GitWeb</a> at work recently. It is very fast and extremely useful. I noticed that the repositories the web view was looking at didn’t show any tags or other branches. Only the master branch. I had used</p>
<div class="code"><pre><span class="n">git</span> <span class="n">clone</span> <span class="o">--</span><span class="n">bare</span> <span class="n">git</span><span class="err">@</span><span class="n">host</span><span class="o">:</span><span class="n">repository</span><span class="p">.</span><span class="n">git</span>
</pre></div>


<p>to get the code. This ensures that no working directory is created. Pretty much only the contents of the .git directory. In order to get the .git directory but also any tags, non-master branches, etc, I learned to use:</p>
<div class="code"><pre>git clone --mirror git@host:repository.git
</pre></div>


<p>By definition from the man page of <a href="http://schacon.github.com/git/git-clone.html">git clone</a>:</p>
<div class="code"><pre>--mirror
    Set up a mirror of the <span class="nb">source </span>repository. This implies --bare. Compared to --bare,
    --mirror not only maps <span class="nb">local </span>branches of the <span class="nb">source </span>to <span class="nb">local </span>branches of the target,
    it maps all refs <span class="o">(</span>including remote-tracking branches, notes etc.<span class="o">)</span> and sets up a
    refspec configuration such that all these refs are overwritten by a git remote
    update in the target repository.
</pre></div>


<p>After I used <code>--mirror</code> instead of <code>--bare</code>, the other branches and tags showed up. Winning.</p></div>
        
        </div>
        
            
    
        
    <p>
    
        <a href="posts/git-clone-mirror-vs-git-clone-bare/#disqus_thread" data-disqus-identifier="cache/posts/git-clone-mirror-vs-git-clone-bare.html">Comments</a>
    

    

        
        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/how-to-capture-exception-message-from-assert-throws/" class="u-url">How to Capture the Exception Message From Assert.Throws in NUnit</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-03-23T00:00:00-05:00">Mar 23, 2012</time></small></h1>
        <hr><div class="e-content">
        <div><p>In the past I’ve used:</p>
<div class="code"><pre><span class="na">[ExpectedException(typeof(CustomException), ExpectedMessage="blah blah blah")]</span> 
</pre></div>


<p>to set an exception expectation and assert on the message. With the recent releases of NUnit I’ve finally transitioned all my code to use:</p>
<div class="code"><pre><span class="n">Assert</span><span class="p">.</span><span class="n">Throws</span><span class="p">&lt;</span><span class="n">CustomException</span><span class="p">&gt;(()</span> <span class="p">=&gt;</span> <span class="n">someType</span><span class="p">.</span><span class="n">someMethod</span><span class="p">(</span><span class="n">someValue</span><span class="p">));</span>
</pre></div>


<p>or</p>
<div class="code"><pre><span class="n">Assert</span><span class="p">.</span><span class="n">Throws</span><span class="p">&lt;</span><span class="n">CustomException</span><span class="p">&gt;(</span><span class="n">someType</span><span class="p">.</span><span class="n">someMethod</span><span class="p">);</span>
</pre></div>


<p>if the method has no parameters.</p>
<p>Only lately have I needed to capture the exception message and validate it. To do this you do the following:</p>
<div class="code"><pre><span class="kt">var</span> <span class="n">ex</span> <span class="p">=</span> <span class="n">Assert</span><span class="p">.</span><span class="n">Throws</span><span class="p">&lt;</span><span class="n">CustomException</span><span class="p">&gt;(()</span> <span class="p">=&gt;</span> <span class="n">someType</span><span class="p">.</span><span class="n">someMethod</span><span class="p">(</span><span class="n">someValue</span><span class="p">));</span>

<span class="n">Assert</span><span class="p">.</span><span class="n">That</span><span class="p">(</span><span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">,</span> <span class="n">Is</span><span class="p">.</span><span class="n">EqualTo</span><span class="p">(</span><span class="s">"expected message here"</span><span class="p">));</span>
</pre></div>


<p>I am blogging about this because I keep forgetting how to capture the exception message. Hope it helps someone else.</p></div>
        
        </div>
        
            
    
        
    <p>
    
        <a href="posts/how-to-capture-exception-message-from-assert-throws/#disqus_thread" data-disqus-identifier="cache/posts/how-to-capture-exception-message-from-assert-throws-in-nunit.html">Comments</a>
    

    

        
        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/git-achievements-on-windows-part-2/" class="u-url">Git Achievements on Windows (Part 2)</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2012-03-21T00:00:00-05:00">Mar 21, 2012</time></small></h1>
        <hr><div class="e-content">
        <div><p><a href="http://blog.jasonmeridth.com/git-achievements-on-windows">Part 1</a></p>
<p>I’m using Msysgit Bash CLI (up-to-date install instructions</p>
<p>I’ve forked the git-achievements github repository</p>
<p>notice it forks to a gh-pages branch, not a master branch</p>
<p>this allows github to fire jekyll off against your github account and generate your git-achievements page</p>
<div class="code"><pre>jasonmeridth@JASON-LAPTOP /c/code
<span class="nv">$ </span>git clone git@github.com:jmeridth/git-achievments.git
Cloning into git-achievements...
remote: Counting objects: 1168, <span class="k">done</span>.
remote: Compressing objects: 100% <span class="o">(</span>742/742<span class="o">)</span>, <span class="k">done</span>.
Receiving objects: 91% <span class="o">(</span>1063/1168<span class="o">)</span>
Receiving objects: 100% <span class="o">(</span>1168/1168<span class="o">)</span>, 155.28 KiB, <span class="k">done</span>.
Resolving objects: 100% <span class="o">(</span>801/801<span class="o">)</span>, <span class="k">done</span>.
</pre></div>


<p>cloned repository locally into my C:code folder (resulting in /c/code/git-achievements by Git Bash CLI path terms)</p>
<div class="code"><pre>jasonmeridth@JASON-LAPTOP /c/code
<span class="nv">$ </span>vim ~/.bashrc
</pre></div>


<p>~/ (tilde %2B forward slash means home directory, where the .bashrc file needs to be)</p>
<div class="code"><pre><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"$PATH:/c/code/git-achievements"</span>
<span class="nb">alias </span><span class="nv">git</span><span class="o">=</span><span class="s2">"git-achievements"</span>
</pre></div>


<p>add the newly clone git-achievements directory to your PATH environment variable</p>
<p>alias the git command to call git-achievements</p>
<p>git-achievements calls the real git.exe, this just allows it to wrap it and intercept calls</p>
<div class="code"><pre>jasonmeridth@JASON-LAPTOP /c/code
<span class="nv">$ </span><span class="nb">source</span> ~/.bashrc
</pre></div>


<p>source means to refresh/reapply</p>
<p>if you don’t do this, your new changes won’t take effect</p>
<div class="code"><pre>jasonmeridth@JASON-LAPTOP /c/code
<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$PATH</span>
......:/c/code/git-achievements
</pre></div>


<p>this outputs your PATH environment variable content.</p>
<p>Notice the git-achievements folder at the end. :)</p>
<div class="code"><pre>jasonmeridth@JASON-LAPTOP /c/code
<span class="nv">$ </span>git config --global achievement.upload <span class="s2">"true"</span>
</pre></div>


<p>this allows uploads to your fork, on the gh-pages branch</p>
<div class="code"><pre>jasonmeridth@JASON-LAPTOP /c/code
<span class="nv">$ </span>git --version
git version 1.7.2.3.msysgit.0
</pre></div>


<p>to ensure you didn’t break git</p>
<div class="code"><pre>jasonmeridth@JASON-LAPTOP /c/code
<span class="nv">$ </span>git achievements --help
Git Achievements

you currently have:     1 achievements

Options:
    -l --list   Show all achievements
    -p --publish Publish existing achievemetns and push to origin.
</pre></div>


<p>shows the git achievements help</p>
<p>generates your first achievement as a “Student” (I already had mine)</p>
<p>Hope you guys have as much fun as I did. Yeah, yeah, I’m a nerd. So what? ;)</p>
<p><a href="http://blog.jasonmeridth.com/git-achievements">My Achievements</a></p></div>
        
        </div>
        
            
    
        
    <p>
    
        <a href="posts/git-achievements-on-windows-part-2/#disqus_thread" data-disqus-identifier="cache/posts/git-achievements-on-windows-part-2.html">Comments</a>
    

    

        
        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/opportunity/" class="u-url">Opportunity</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-06-04T06:06:10-05:00">Jun 04, 2011</time></small></h1>
        <hr><div class="e-content">
        <div><p>I’ve been in major transition the last couple months. I decided to leave San Antonio and head to Dallas to work with Joe (<a href="https://twitter.com/agilejoe">@agilejoe</a>) and Marcus (<a href="https://twitter.com/marcusthebold">@marcusthebold</a>), both are fellow LosTechies members, at <a href="https://onetechnologies.net">One Technologies</a>. Unfortunately, I’m heading back to San Antonio for personal reasons and would love to help fill the gap I’m leaving. Any other Alt.NET developers who love working at a fast pace, with smart people, on interesting products, should ping Joe or Marcus with your resume.</p>
<p>You won’t regret it. I’ve worked with both guys twice now and it has truly been a pleasure.</p>
<p><a href="https://gist.github.com/eac742b1c77bf291335d">Here is the link to the gist </a>that Joe posted a while back with the job description.</p>
<p>Did I mention you get to work with <a href="https://github.com">Github</a>? :)</p></div>
        
        </div>
        
            
    
        
    <p>
    
        <a href="posts/opportunity/#disqus_thread" data-disqus-identifier="cache/posts/opportunity.html">Comments</a>
    

    

        
        </p></article><article class="postbox h-entry post-text"><h1 class="p-name"><a href="posts/readline-error-with-rvm-and-rails-3/" class="u-url">Readline Error With RVM and Rails 3 on Ubuntu</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2010-11-25T00:00:00-06:00">Nov 25, 2010</time></small></h1>
        <hr><div class="e-content">
        <div><p>So I’m using Rails 3 with RVM these days. The last few times I created a new slice or restaged a laptop/desktop with Ubuntu I always seem to have an issue when I try to run the Rails console:</p>
<div class="code"><pre>my_app/<span class="o">(</span>master<span class="o">)</span><span class="nv">$ </span>rails console
/home/jmeridth/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/irb/completion.rb:9:in <span class="sb">`</span>require<span class="s1">': no such file to load -- readline (LoadError)</span>
<span class="s1">from /home/jmeridth/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/irb/completion.rb:9:in `'</span>
from /code/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.0.1/lib/rails/commands/console.rb:3:in <span class="sb">`</span>require<span class="s1">'</span>
<span class="s1">from /code/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.0.1/lib/rails/commands/console.rb:3:in `'</span>
from /code/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.0.1/lib/rails/commands.rb:20:in <span class="sb">`</span>require<span class="s1">'</span>
<span class="s1">from /code/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.0.1/lib/rails/commands.rb:20:in `'</span>
from script/rails:6:in <span class="sb">`</span>require<span class="s1">'</span>
<span class="s1">from script/rails:6:in `'</span>
</pre></div>


<p>I looked at the RVM site and saw how to install the readline package:</p>
<div class="code"><pre><span class="nv">$ </span>rvm package install readline
<span class="nv">$ </span>rvm remove 1.9.2
<span class="nv">$ </span>rvm install 1.9.2 --with-readline-dir<span class="o">=</span><span class="nv">$rvm_path</span>/usr
</pre></div>


<p>I did this and it still didn’t work. The advice I received from googling was to compile the readline extension by hand and see if any dependencies were missing:</p>
<div class="code"><pre><span class="nv">$ </span>sudo apt-get install libncurses5-dev libreadline5-dev
<span class="nv">$ </span>ruby ~/.rvm/src/ruby-1.9.2-p0/readline/ext/extconf.rb
checking <span class="k">for </span>tgetnum<span class="o">()</span> in -lncurses... no
checking <span class="k">for </span>readline/readline.h... no
checking <span class="k">for </span>readline/history.h... no
checking <span class="k">for </span>readline<span class="o">()</span> in -lreadline... no
...
</pre></div>


<p>This meant that I was missing the lncurses and libreadline libraries from apt-get.</p>
<div class="code"><pre><span class="nv">$ </span>sudo apt-get install libncurses5-dev libreadline5-dev
...they install...
</pre></div>


<p>Now when I run extconf.rb, everything is there:</p>
<div class="code"><pre><span class="nv">$ </span>ruby ~/.rvm/src/ruby-1.9.2-p0/readline/ext/extconf.rb
checking <span class="k">for </span>tgetnum<span class="o">()</span> in -lncurses... yes
checking <span class="k">for </span>readline/readline.h.... yes
checking <span class="k">for </span>readline/history.h... yes
checking <span class="k">for </span>readline<span class="o">()</span> in -lreadline... yes
...
</pre></div>


<p>A make file was generated, I run it, and then install:</p>
<div class="code"><pre><span class="nv">$ </span><span class="nb">cd</span> ~/.rvm/src/ruby-1.9.2-p0/readline/ext/
<span class="nv">$ </span>make
...
<span class="nv">$ </span>sudo make install
...
</pre></div>


<p>Now the rails console works:</p>
<div class="code"><pre>my_app<span class="nv">$ </span>rails console
Loading development environment <span class="o">(</span>Rails 3.0.3<span class="o">)</span>
ruby-1.9.2-p0 &amp;gt;
</pre></div></div>
        
        </div>
        
            
    
        
    <p>
    
        <a href="posts/readline-error-with-rvm-and-rails-3/#disqus_thread" data-disqus-identifier="cache/posts/readline-error-with-rvm-and-rails-3-on-ubuntu.html">Comments</a>
    

    

        
        </p></article><div>
        <ul class="pager"><li class="previous">
                <a href="index-23.html" rel="prev">← Newer posts</a>
            </li>
        
        
            <li class="next">
                <a href="index-21.html" rel="next">Older posts →</a>
            </li>
        
        </ul></div>
    

    
    
        
    
       <script>var disqus_shortname="jasonmeridth";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script></div>
    </div>
    <!--End of body content-->
</div>
<div class="footerbox">
    Contents © 2014         <a href="mailto:jason@jasonmeridth.com">Jason Meridth</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<br><br><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a>
</div>

    
        
            <script src="assets/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="assets/js/bootstrap.min.js" type="text/javascript"></script><script src="assets/js/jquery.colorbox-min.js" type="text/javascript"></script><!-- Social buttons --><div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul><li><a class="addthis_button_facebook"></a>
</li><li><a class="addthis_button_google_plusone_share"></a>
</li><li><a class="addthis_button_linkedin"></a>
</li><li><a class="addthis_button_twitter"></a>
</li></ul></div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script><!-- End of social buttons --><script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});
    $(window).on('hashchange', function(){
        if (location.hash && $(location.hash)[0]) {
            $('body').animate({scrollTop: $(location.hash).offset().top - $('#navbar').outerHeight(true)*1.2 }, 1);
        }
    });
    $(document).ready(function(){$(window).trigger('hashchange')});
    </script></body></html>