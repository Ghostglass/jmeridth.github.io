<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Jason Meridth Blog &#8211; Jason Meridth</title>
<meta name="description" content="Blog of Jason Meridth - Learn, Converse, Share">
<meta name="keywords" content="Jason Meridth, blog">

<!-- Twitter Cards -->
  
    <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@jmeridth">
  <meta name="twitter:creator" content="@jmeridth">
  <meta name="twitter:image" content="/images/meridth_llc_cog.png">


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Jason Meridth Blog">
<meta property="og:description" content="Blog of Jason Meridth - Learn, Converse, Share">
<meta property="og:url" content="https://blog.jasonmeridth.com/page16/">
<meta property="og:site_name" content="Jason Meridth">
<meta property="og:image" content="https://blog.jasonmeridth.com/images/images/logo.jpg">

<meta name="google-site-verification" content="2LRsgnHFM86Lph9HmYJGK6Uoa-Fn75nSU9YdAGbZAo4">



<link rel="canonical" href="https://blog.jasonmeridth.com/page16/">
<link href="https://blog.jasonmeridth.com/feed.xml" type="application/atom+xml" rel="alternate" title="Jason Meridth Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>

<!-- For all browsers -->
<link rel="stylesheet" href="https://blog.jasonmeridth.com/assets/css/main.css">
<link rel="stylesheet" href="https://blog.jasonmeridth.com/assets/css/jquery.mmenu.all.css">
<link rel="stylesheet" href="https://blog.jasonmeridth.com/assets/css/jquery.floating-social-share.min.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script type="text/javascript" src="https://blog.jasonmeridth.com/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="https://blog.jasonmeridth.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="https://blog.jasonmeridth.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://blog.jasonmeridth.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://blog.jasonmeridth.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://blog.jasonmeridth.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://blog.jasonmeridth.com/images/apple-touch-icon-144x144-precomposed.png">




</head>

<body id="post-index">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->



<div class="header-menu header-menu-top">
    <ul class="header-item-container">
      <li class="header-item-title header-toggle "><a href="#menu"><h2><i class="fa fa-bars"></i></h2></a></li>
      <li class="header-item-title">
        <a href="https://blog.jasonmeridth.com/">
          
            <img class="logo" src="https://blog.jasonmeridth.com/images/logo.jpg" alt="Jason Meridth">
          
          <a href="https://blog.jasonmeridth.com/" class="title"> Jason Meridth</a>
        </a>
      </li>
      
        
        

        
            
                <li class="header-item "><a href="https://blog.jasonmeridth.com/feed.xml"><h3>RSS</h3></a></li>
            
        
      
        
        

        
            
                <li class="header-item "><a href="https://blog.jasonmeridth.com/about"><h3>About</h3></a></li>
            
        
      
        
        

        
            
                <li class="header-item "><a href="https://blog.jasonmeridth.com/tags"><h3>Tags</h3></a></li>
            
        
      
        
        

        
            
                <li class="header-item "><a href="https://blog.jasonmeridth.com/"><h3>Home</h3></a></li>
            
        
      
      <li class="header-item"><a href="https://blog.jasonmeridth.com/search"><h3><i class="fa fa-search"></i></h3></a></li>
    </ul>
  </div>
<div class="entry-header">
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Jason Meridth Blog</h1>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->


<nav id="menu" style="display: none">
  <ul>
    
      
        <li><a href="https://blog.jasonmeridth.com/"><h3>Home</h3></a></li>
      
    
      
        <li><a href="https://blog.jasonmeridth.com/tags"><h3>Tags</h3></a></li>
      
    
      
        <li><a href="https://blog.jasonmeridth.com/about"><h3>About</h3></a></li>
      
    
      
        <li><a href="https://blog.jasonmeridth.com/feed.xml"><h3>RSS</h3></a></li>
      
    
  </ul>
</nav>


  <a href="https://twitter.com/jmeridth" class="btn btn-info button-twitter" data-show-count="false" data-size="large"><i class="fa fa-twitter"></i> <span> | Follow @jmeridth</span></a>



<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2010-04-05T04:25:00-05:00"><a href="https://blog.jasonmeridth.com/posts/oauth/">April 05, 2010</a></time>
      </span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://blog.jasonmeridth.com/posts/oauth/" rel="bookmark" title="OAuth" itemprop="url">OAuth</a></h1>
    
    <div class="entry-meta">
      <span class="entry-tags"></span>
    </div>
  </header>
  <div class="entry-content">
      <p>UPDATE: Fixed puts statements.  should have been x.token, not x.key.</p>

<p>I have gotten tired of twitterfeed not handling our RSS feed and tweeting our new posts. So have the other LosTechies members. I decided to finally learn OAuth so that I can write a script/app to handle tweeting our new blog posts.</p>

<p>This is the way I learned so bare with me.</p>

<p>First things first, is you have to go to <a href="http://twitter.com">twitter</a> and login to your account. Once done, register your <a href="http://twitter.com/oauth_clients">OAuth application</a> and click the <a href="http://twitter.com/apps/new">Register a new application</a> link. This will set you up with an OAuth consumer key and secret; which we need to obtain the OAuth request token/secret and our ultimate goal of an OAuth access token/secret.</p>

<p>Required fields that I had to fill out were:</p>

<ol>
  <li>Application Name</li>
  <li>Descriptions</li>
  <li>Application Website</li>
  <li>Application Type (I chose Client)</li>
  <li>Default Access Type (I chose Read &amp; Write)</li>
  <li>ReCaptcha at the bottom.</li>
</ol>

<p><img src="http://c1261852.cdn.cloudfiles.rackspacecloud.com/twitter_new_oauth_app.png" alt="" /></p>

<p>Once accepted you’ll be directed to a page displaying your consumer key and secret, like this:</p>

<p><img src="http://c1261852.cdn.cloudfiles.rackspacecloud.com/oauth_consumer_key_and_secret.png" alt="" /></p>

<p>I’ve looked at a few ways to do this and the easiest that I found was by using the <a href="http://github.com/moomerman/twitter_oauth">twitter_oauth gem</a>. Following the README for this gem I was able to get an access token/secret pretty easily.</p>

<p>I’m doing all of this through IRB because there is one part where you need to open a web page and allow your twitter client to post to Twitter.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~ &gt; irb
irb(main):001:0$ require 'rubygems'
=&gt; true
irb(main):002:0$ require 'twitter_oauth'
=&gt; true
irb(main):003:0$ client = TwitterOAuth::Client.new(
irb(main):004:1* :consumer_key =&gt; 'YOUR_APP_CONSUMER_KEY',
irb(main):005:1* :consumer_secret =&gt; 'YOURA_APP_CONSUMER_SECRET')
)
=&gt; ...object output...
irb(main):005:0$ request_token = client.request_token
=&gt; ...object output...
irb(main):006:0$ puts request_token.token, request_token.secret
=&gt; [REQUEST_TOKEN]
=&gt; [REQUEST_SECRET]
irb(main):007:0$ request_token.authorize_url
=&gt; http://twitter.com/oauth/authorize?oauth_token=TOKEN
</code></pre></div></div>

<p>Copy that url and put it into your browser of choice. When the “Deny” and “Allow” buttons become visible, click the “Allow” button. You will be presented with a numeric PIN. Copy that number into your clipboard because we’re going to use it on this final step to obtain the OAuth Access Token and Secret.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>irb(main):007:0$ access_token = client.authorize(
irb(main):008:1*   request_token.token,
irb(main):009:1*   request_token.secret,
irb(main):0010:1*  :oauth_verifier =&gt; 'THE_NUMERIC_PIN_YOU_GOT_FROM_TWITTER'
irb(main):0011:1* )
=&gt; ...object output...
irb(main):0011:0$ puts access_token.token, access_token.secret
=&gt; [ACCESS_TOKEN]
=&gt; [ACCESS_SECRET]
irb(main):0012:0$ client.authorized?
=&gt; true
</code></pre></div></div>

<p>You now have everything you need to use the TwitterOAuth gem without having to authenticate everytime.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>irb(main):0013:0$ client = TwitterOAuth::Client.new(
irb(main):0014:1*    :consumer_key =&gt; 'YOUR_CONSUMER_KEY',
irb(main):0015:1*    :consumer_secret =&gt; 'YOUR-CONSUMER-SECRET',
irb(main):0016:1*    :token =&gt; access_token.token, 
irb(main):0017:1*    :secret =&gt; access_token.secret
)
=&gt; ...object output...
irb(main):0017:0$ client.authorized?
=&gt; true
</code></pre></div></div>

<p>To tweet something after you have the client instance, just call the update method:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>client.update('test tweet with OAuth')
</code></pre></div></div>

<p>That is how I figured out OAuth without a callback URL. Hacky, but it works.</p>

      
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2010-04-05T04:17:00-05:00"><a href="https://blog.jasonmeridth.com/posts/pro-git-cliff-notes/">April 05, 2010</a></time>
      </span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~4 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://blog.jasonmeridth.com/posts/pro-git-cliff-notes/" rel="bookmark" title="Pro Git Cliff Notes" itemprop="url">Pro Git Cliff Notes</a></h1>
    
    <div class="entry-meta">
      <span class="entry-tags"><a href="https://blog.jasonmeridth.com/tags#git" title="Post tagged git" class="tag"><span class="term">git</span></a><a href="https://blog.jasonmeridth.com/tags#books" title="Post tagged books" class="tag"><span class="term">books</span></a></span>
    </div>
  </header>
  <div class="entry-content">
      <p>These are my notes from reading Scott Chacon’s <a href="http://progit.org/book">Pro Git</a> I highly suggest <a href="http://tinyurl.com/amazonprogit">buying this book</a> if you are serious about using the Git version control tool. <a href="http://progit.org/book/ch3-1.html">pg 48</a> A branch in Git is simply a lightweight movable pointer <a href="http://progit.org/book/ch3-1.html">pg 50</a> a special pointer called HEAD…is a pointer to the local branch you’re currently on <a href="http://progit.org/book/ch3-1.html">pg 52</a> Creating a new branch is as quick and simple as writing 41 bytes to a file (40 characters and a newline). <a href="http://progit.org/book/ch3-2.html">pg 53</a> To create a branch and switch to it at the same time…git checkout command with the -b switch <a href="http://progit.org/book/ch3-3.html">pg 61</a> To see the last commit on each branch, you can run git branch -v <a href="http://progit.org/book/ch3-5.html">pg 69</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> <span class="o">[</span>branch] <span class="o">[</span>remotename]/[branch]
</code></pre></div></div>

<p>is the same as</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">--track</span> <span class="o">[</span>remotename]/[branch]
</code></pre></div></div>

<p><a href="http://progit.org/book/ch4-1.html">pg 81</a> Git protocol…listens on a dedicated port (9418)</p>

<p><a href="http://progit.org/book/ch4-1.html">pg 82</a> The Git protocol is the fastst transfer protocol available.</p>

<p><a href="http://progit.org/book/ch5-2.html">pg 111</a> The Git project provides a document that lays out a number of good tips for creating commits from which to submit patches—you can read it in the Git source code in the Documentation/SubmittingPatches file.</p>

<p><a href="http://progit.org/book/ch5-2.html">pg 116</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">--no-merges</span> origin/master ^issue54
</code></pre></div></div>

<p><a href="http://progit.org/book/ch5-2.html">pg 121</a> Compare origin changes with local changes before merging:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log origin/featureA ^feature
</code></pre></div></div>

<p><a href="http://progit.org/book/ch5-2.html">pg 126</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git merge <span class="nt">--no-commit</span> <span class="nt">--squash</span> featureB
</code></pre></div></div>

<p><a href="http://progit.org/book/ch5-3.html">pg 130</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git apply
</code></pre></div></div>

<p>It’s almost identical to running a patch -p1 command to apply the patch, although it’s more paranoid and accepts fewer fuzzy matches then patch. <a href="http://progit.org/book/ch5-3.html">pg 131</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git apply <span class="nt">--check</span>
</code></pre></div></div>

<p>check to see if a patch applies cleanly before you try actually applying it <a href="http://progit.org/book/ch5-3.html">pg 134</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log contrib <span class="nt">--not</span> master
</code></pre></div></div>

<p>To find common ancestor of both branches</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git merge-base contrib master
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff <span class="o">[</span>sha1 from previous <span class="nb">command</span><span class="o">]</span>
</code></pre></div></div>

<p><a href="http://progit.org/book/ch5-3.html">pg 135</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff master...topic
</code></pre></div></div>

<p>shows you only the work your topic branch has introduced since its common ancestor with master. <a href="http://progit.org/book/ch5-3.html">pg 140</a> tagging releases with signed keys <a href="http://progit.org/book/ch5-3.html">pg 141</a> generating a build number with yocategory preparing a release as a tarball <a href="http://progit.org/book/ch5-3.html">pg 142</a> Show work by author since a specific time</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git shortlog <span class="nt">--no-merges</span> master <span class="nt">--not</span> v1.0.1
</code></pre></div></div>

<p><a href="http://progit.org/book/ch6-1.html">pg 144</a> Git can figure out a short, unique abbreviation for your SHA-1 values</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">--abbrev-commit</span> <span class="nt">--pretty</span><span class="o">=</span>oneline
</code></pre></div></div>

<p>wolves paragraph <a href="http://progit.org/book/ch6-1.html">pg 145</a> Find out the SHA1 of a branch</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rev-parse <span class="o">[</span>branch]
</code></pre></div></div>

<p><a href="http://progit.org/book/ch6-1.html">pg 146</a> To see reflog information inline with your normal log information</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">-g</span> master
</code></pre></div></div>

<p>Because reflog is a log, it will show you where the HEAD pointer was 2 months ago – if the repo is older than that</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git show HEAD@<span class="o">{</span>2.months.ago<span class="o">}</span>
</code></pre></div></div>

<p><a href="http://progit.org/book/ch6-1.html">pg 147</a> ^ is the first parent of the current commit ^2 is the second parent of the current commit (only works if the current commit is a merge commit, where first parent is the branch you on when you merged, second was the other) ~ is the first parent ~2 (or any number) is the grandparent(s) of the current commit only on the current branch or branch you were on when you merged <a href="http://progit.org/book/ch6-1.html">pg 148</a> Shows you any commits in your current branch that aren’t in the master branch on your origin remote</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log origin/master..HEAD
</code></pre></div></div>

<p>Git substitutes HEAD if one side is missing (git log origin/master..) Just like above command and example shown on pg134</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log refB <span class="nt">--not</span> refA
</code></pre></div></div>

<p><a href="http://progit.org/book/ch6-3.html">pg 155</a> Tells the stash command to try to reapply the staged changes</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash apply <span class="nt">--index</span>
</code></pre></div></div>

<p><a href="http://progit.org/book/ch6-3.html">pg 156</a> Create a branch from a stash, testchanges</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash branch testchanges
</code></pre></div></div>

<p><a href="http://progit.org/book/ch6-4.html">pg 157</a> …don’t amend your last commit if you’ve already pushed it (git commit —amend command)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rebase <span class="nt">-i</span> HEAD~3
</code></pre></div></div>

<p>Don’t include any commit you’ve already pushed to a central server—doing so will confuse other developers by providing an alternate version of the same change <a href="http://progit.org/book/ch6-4.html">pg 158</a> It’s important to note that these commits (interactive rebase) are listed in the opposite order (oldest first, newest last) than you normally see then using the log command (newest first). <a href="http://progit.org/book/ch6-4.html">pg 160</a> …make sure no commit shows up in that list (git log -4 —pretty=format:“%h %s”) that you’ve already pushed to a shared repository <a href="http://progit.org/book/ch6-5.html">pg 164</a> was wondering how to automate the good/bad declaration <a href="http://progit.org/book/ch6-6.html">pg 168</a> git submodule update You have to do this every time you pull down a submodule change in the main projects. It’s strange, but it works. <a href="http://progit.org/book/ch6-7.html">pg 172 (subtree merging)</a> You want to pull the Rack project into your master project as a subdirectory</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git read-tree <span class="nt">--prefix</span><span class="o">=</span>rack/ <span class="nt">-u</span> rack_branch
</code></pre></div></div>

<p><a href="http://progit.org/book/ch7-1.html">pg 175</a> global git config /etc/gitconfig user global git config ~/.gitconfig local repository git config .git/config <a href="http://progit.org/book/ch7-1.html">pg 182</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> core.autocrlf input
</code></pre></div></div>

<p>This setup should leave you with CRLF endings in Windows checkouts but LF endings on Mac and Linux systems and in the repository <a href="http://progit.org/book/ch7-2.html">pg 184</a> To tell Git to treat a specific file as binary data, add the following line to your .gitattributes file: *.extension -crlf -diff <a href="http://progit.org/book/ch7-2.html">pg 185</a> …one of the most annoying problems known to humanity: version-controlling Word documents (LOL) <a href="http://progit.org/book/ch7-3.html">pg 192</a> post-receive hook…This scripts can’t stop the push process, but the client doesn’t disconnect until it has completed; so, be careful when you try to do anything that may take a long time <a href="http://progit.org/book/ch7-4.html">pg 194</a> Is practically the git log command…it prints out only the SHA-1 values and no other information</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rev-list <span class="o">[</span>SHA-1]..[SHA-1]
</code></pre></div></div>

<p>Get the commit message from each of these commits to test git cat-file commit [SHA-1] Incantation:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git cat-file commit <span class="o">[</span>SHA-1] | <span class="nb">sed</span> <span class="s1">'1,/^$/d'</span>
</code></pre></div></div>

<h2 id="comments">Comments</h2>

<p><strong><a href="#471" title="2010-04-14 01:04:47">Ricardo</a>:</strong> Thanks for the compilation!</p>

<p><strong><a href="#472" title="2010-04-14 01:25:01">Jason Meridth</a>:</strong> Ricardo: You’re welcome</p>

<p><strong><a href="#473" title="2010-05-10 03:55:33">Simon</a>:</strong> You’ve convinced me to buy this book now.</p>

<p><strong><a href="#474" title="2010-05-12 12:59:43">Jason Meridth</a>:</strong> @Simon: Awesome. It’s worth it’s weight in gold.</p>


      
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2010-03-23T21:36:00-05:00"><a href="https://blog.jasonmeridth.com/posts/git-tracking-branches/">March 23, 2010</a></time>
      </span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://blog.jasonmeridth.com/posts/git-tracking-branches/" rel="bookmark" title="Git tracking branches" itemprop="url">Git tracking branches</a></h1>
    
    <div class="entry-meta">
      <span class="entry-tags"></span>
    </div>
  </header>
  <div class="entry-content">
      <p>I have encountered this message multiple times when dealing with Git:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/code/blog/armmer.github.com(master) $ git pull
You asked me to pull without telling me which branch you
want to merge with, and 'branch.master.merge' in
your configuration file does not tell me, either. Please
specify which branch you want to use on the command line and
try again (e.g. 'git pull  ').
See git-pull(1)for details.
 
If you often merge with the same branch, you may want to
use something like the following in your configuration file:
 
    [branch "master"]
    remote = 
    merge = 
 
    [remote ""] 
    url = 
    fetch = 
 
See git-config(1) for details.
</code></pre></div></div>

<p>and I’ve been waiting for it again so that I can blog about it. What this means is that the local master branch of my github pages repository is not tracking a remote branch. The quickest way to get around this would be for me to explicitly state the remote name and branch:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/code/blog/armmer.github.com(master) $ git pull origin master
</code></pre></div></div>

<p>and it would pull successfully. Well, I don’t want to have to specify the remote and branch. The easiest way to do this is to edit the configuration file as suggested and add the following (at least in my case):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[branch "master"]
    remote = origin
    merge = refs/heads/master
 
    [remote "origin"] 
    url = git@github.com:armmer/armmer.github.com.git
    fetch = +refs/heads/*:refs/remotes/origin/*
</code></pre></div></div>

<p>The +refs/heads/<strong>:refs/remotes/origin/</strong> notation is what I call the <a href="http://progit.org/book/ch9-5.html">refspec format</a>.</p>

<p>Now if I do a <em>git pull</em> I get:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/code/blog/armmer.github.com(master) $ git pull
Already up-to-date.
</code></pre></div></div>

<p>It worked. Now back to coding…</p>

<h2 id="comments">Comments</h2>

<p><strong><a href="#467" title="2010-03-24 00:55:24">Jim Raden</a>:</strong> The “helpful” Git message is a few versions behind, I think, rendering it less helpful. Perhaps you have just inspired a bug report. :) The refspec format frankly scares me. Even for Git it looks arcane. I prefer the following, which sets up the local branch to track the remote branch: $ git branch -t branchname remotename/branchname Note: if “branchname” already exists locally, you may have to add an “-f” as another parameter, I believe before the branch name. And very recently (1.7?) they added the a nifty feature to the checkout command: $ git checkout branchname If “branchname” is not already a local branch, it automatically creates a tracking branch with that name. Cool, eh?</p>

<p><strong><a href="#468" title="2010-03-24 01:11:39">Jason Meridth</a>:</strong> @Jim I use the -t/–track command too. I, unfortunately, have local branches from my git beginnings that weren’t tracked and wanted to post this info in case anyone else comes across it. I agree the refspec format seems arcane. I didn’t know that checkout was wired to create a local tracking branch automatically now in 1.7. I’m going to play with that tonight. Thanks for the additional information.</p>

<p><strong><a href="#469" title="2010-03-24 15:42:09">Roger Pence</a>:</strong> Jason–Thanks for turning me on to Git at our local user group meeting a while back. How about writing a little about doing diffs with Git. I’ve pretty much made friends with everything else, but diffs (both at the commit and file level) sometimes drive me nuts. Thanks rp</p>

<p><strong><a href="#470" title="2010-03-24 16:09:37">Jason Meridth</a>:</strong> @Roger I’ll work on it tonight. In the mean-time just understand that: “git diff” compares your working directory and index/staging “git diff –staged” compares your index/staging to your local repository (committed files) “git diff HEAD” compares your local reponsitory (committed files) to your working directory http://book.git-scm.com/3<em>comparing_commits</em>-_git_diff.html http://kernel.org/pub/software/scm/git/docs/git-diff.html This is not to be read as a RTFM. I’ll write the post tonight.</p>


      
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2010-03-23T21:29:00-05:00"><a href="https://blog.jasonmeridth.com/posts/git-reset-checkout-bare-double-dash-revert/">March 23, 2010</a></time>
      </span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~6 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://blog.jasonmeridth.com/posts/git-reset-checkout-bare-double-dash-revert/" rel="bookmark" title="Git reset, checkout & "bare double dash", and revert" itemprop="url">Git reset, checkout & "bare double dash", and revert</a></h1>
    
    <div class="entry-meta">
      <span class="entry-tags"><a href="https://blog.jasonmeridth.com/tags#git" title="Post tagged git" class="tag"><span class="term">git</span></a></span>
    </div>
  </header>
  <div class="entry-content">
      <p><strong>UPDATE</strong>: Please make sure to read Alexander’s comments on <code class="highlighter-rouge">git rebase --interactive</code></p>

<p><strong>UPDATE</strong>: If you need to unstage a file prior to your first commit:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git <span class="nb">rm</span> <span class="nt">--cached</span> filename
</code></pre></div></div>

<p>Thanks to <a href="http://schambers.lostechies.com">Sean Chambers</a> for tweeting about <a href="http://twitter.com/schambers/status/11005630400">this</a></p>

<p>Some of the common questions I get are about how to reset or revert changes in Git. There are two typical scenarios you have to deal with. One is if you haven’t committed the code yet. The other is if you <em>have</em> committed the code.</p>

<h1 id="before-you-have-committed-the-code"><strong>Before</strong> you have committed the code</h1>

<p>Well, if you want to unstage a file you simply do the following:</p>

<h2 id="git-reset">git reset</h2>

<p>Say you staged a change (“git add”) and you realize you either don’t want the file tracked or the change staged. <code class="highlighter-rouge">git reset</code> is the command that will do this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git reset HEAD filename
</code></pre></div></div>

<p>One of the suggestions I’ve <a href="http://jaimeiniesta.github.io/learn.github.com/p/undoing.html">read about</a> and have given is to create an alias called unstage:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--global</span> alias.unstage <span class="s1">'reset HEAD'</span>
</code></pre></div></div>

<p>So now instead of:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git reset HEAD README
</code></pre></div></div>

<p>you can do:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git unstage README
</code></pre></div></div>

<p>I personally just stick to <code class="highlighter-rouge">git reset HEAD filename</code>. “Why?” you ask. It’s so that if I have to use git on another system that doesn’t have my aliases, I know the commands.</p>

<h2 id="git-checkout">git checkout</h2>

<p>Another common question is “How do I undo an unstaged/uncommitted change? I just want to roll my file back…”. <code class="highlighter-rouge">git checkout — filename</code> handles this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout <span class="nt">--</span> README
</code></pre></div></div>

<p>This will roll the README file back to the last committed version in the working directory. Another question after I answer this is, “Why do you have to put the two dashes there?” The two dashes are canonically called the “bare double dashes”. The reason they are there is because it ensures that the checkout command know that we are trying to roll back a file and not change branches. Remember that the typical usage of the checkout command is to change branches. If you had a branch called README, this command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout README
</code></pre></div></div>

<p>would checkout the README branch and not rollback the current README file in the working directory.</p>

<h2 id="after-you-have-committed-the-code"><strong>After</strong> you have committed the code</h2>

<p>If you committed code that you realized you shouldn’t have, you have two options:</p>

<h2 id="git-revert">git revert</h2>

<p><code class="highlighter-rouge">git revert</code> will create a new commit which undoes a specifc commit that you pass to it. The usual use is to undo the last commit:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git revert HEAD
</code></pre></div></div>

<p>If you need to undo a commit that happened before the last commit you can pass it a <a href="http://book.git-scm.com/4_git_treeishes.html">treeish</a> argument or a specific SHA1 of the commit you want to undo:</p>

<p>Revert the next-to-last commit:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git revert HEAD^
</code></pre></div></div>

<p>Revert a specific commit by SHA:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git revert f8c7dd34
</code></pre></div></div>

<p>Just be aware that if you pass a reference to a commit other than the last one, if there are any merge conflicts created by undoing the change, you will have to deal with those at the time of your new commit (the revert one).</p>

<h2 id="git-commit-amend">git commit —amend</h2>

<p><code class="highlighter-rouge">git commit —amend</code> is another command that allows you to change your last commit. Say I forgot to stage a file for the commit and I need to edit the commit message:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s1">'initial commit'</span>
<span class="nv">$ </span>git add awesome_file
<span class="nv">$ </span>git commit <span class="nt">--amend</span>
</code></pre></div></div>

<p>My visual editor of choice will open with the prior commit message allowing me to edit it, I change the message, save it and exit. The previous commit is overridden by adding the content of my awesome_file and now has my new commit message. Personally, I’ve only had to use this a couple times because I’m usually editing tracked files and by doing <code class="highlighter-rouge">git commit -am “message”</code> I rarely forget to stage my files. The times I’ve had to use <code class="highlighter-rouge">git commit —amend</code> is when I forget to add/stage a new/untracked file.</p>

<h2 id="comments">Comments</h2>

<p><strong><a href="#456" title="2010-03-23 21:41:06">derick.bailey</a>:</strong> dude, you’re a life saver. i was just wondering about reverts earlier today while doing a lunch-n-learn session on git. fortunately, the topic never came up. :) next time, i guess… i’ve done the reset thing a bajillion times, but never looked up the right way to revert something that was committed. and the –amend is awesome, too. so much nicer than having a bunch of “oops, i forgot xyz” commits like i do with subversion.</p>

<p><strong><a href="#457" title="2010-03-23 21:58:11">Adam Ford</a>:</strong> git commit –amend is also useful when you made a typo or forgot something in the commit message, as it allows you to edit that as well!</p>

<p><strong><a href="#458" title="2010-03-23 22:02:57">Jason Meridth</a>:</strong> @derick glad it helped. @Adam I mention that at the bottom of the post, but re-iteration never hurts. Thanks.</p>

<p><strong><a href="#459" title="2010-03-24 01:12:13">Alexander Groß</a>:</strong> As long as you didn’t push your changes to a remote you can also undo commits with interactive rebasing. The end result is as if you never did that commit (as opposed o revert, wich adds a “negative” commit). &gt; git log –oneline -3 123456 foo 567890 bar abcdef baz # Say you want to undo the “bar” commit &gt; git rebase –interactive abcdef # Your editor opens, allowing you to specify which commits to delete or even edit! pick 123456 foo pick 567890 bar pick abcdef baz # Delete the line containing “bar” and save your changes. Exit the editor. # Rebasing… &gt; git log ef3478 foo abcdef baz Done!</p>

<p><strong><a href="#460" title="2010-03-24 01:20:27">Alexander Groß</a>:</strong> I might add that interactive rebasing can also be done to history that has been pushed (published) to a remote, though its not good or recommended practice. Be aware that you will have to force the next push. Also, it might break history for people who have already pulled your changes. The git manpages contain documentation on how to recover from an upstream rebase. http://www.kernel.org/pub/software/scm/git/docs/git-rebase.html</p>

<p><strong><a href="#461" title="2010-03-24 02:09:35">Jason Meridth</a>:</strong> @Alexander Yep. That’s another way to do it. You’ve actually saved me the time of writing a post for that. I’m going to update this post and make sure people read your comments. Thank you.</p>

<p><strong><a href="#462" title="2010-03-24 02:38:35">derick.bailey</a>:</strong> so how do i revert a merge? i just merged BranchA into Master and realized that I didn’t want to do that… when i run “git revert HEAD^” on master, I get this message: “fatal: commit (hash#) is a merge but no -m option was given.” then when i try the -m option i get “error: switch ‘m’ expects a numerical value” … for “parent number” … umm…. what?</p>

<p><strong><a href="#463" title="2010-03-24 03:44:42">Jason Meridth</a>:</strong> @derick http://www.kernel.org/pub/software/scm/git/docs/howto/revert-a-faulty-merge.txt summarizes this situation. Wicked stuff. I’ll be researching this problem in more depth</p>

<p><strong><a href="#464" title="2010-03-24 04:11:55">Jason Meridth</a>:</strong> @derick @qrush responded to your tweet and his solution is easier: Just create a new branch from the commit on master, prior to the merge, delete master and rename the new branch to master. this will work if you haven’t deleted the topic you merged into master.</p>

<p><strong><a href="#465" title="2010-03-25 01:53:30">derick.bailey</a>:</strong> @qrush got me squared away: git reset –hard HEAD^ I’ve used reset –hard to clean out my current working set and get back to last commit… just didn’t think about it in this case. i was so fixated on “revert” (from my svn experience) that I couldn’t see past the git revert command.</p>

<p><strong><a href="#466" title="2010-03-25 02:17:04">Jason Meridth</a>:</strong> @derick Excellent. I’m going to update the post to make sure people read your comments so that the knowledge is shared. Thank you for following up on this.</p>


      
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2010-02-27T19:31:00-06:00"><a href="https://blog.jasonmeridth.com/posts/refspec-matches-more-than-one/">February 27, 2010</a></time>
      </span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://blog.jasonmeridth.com/posts/refspec-matches-more-than-one/" rel="bookmark" title="Refspec matches more than one" itemprop="url">Refspec matches more than one</a></h1>
    
    <div class="entry-meta">
      <span class="entry-tags"></span>
    </div>
  </header>
  <div class="entry-content">
      <p>I was trying to push to a canonical repository this morning and got the following error:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git push origin master
error: src refspec master matches more than one.
error: failed to push some refs to <span class="s1">'ssh://user@host/srv/git/repo'</span>
</code></pre></div></div>

<p>This happened because I had accidentally created a master tag locally:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git tag
master
tag1
tag2
tag3
tag4
</code></pre></div></div>

<p>Once I deleted the tag locally:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tag <span class="nt">-d</span> master
</code></pre></div></div>

<p>I was able to push again.</p>

      
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="https://blog.jasonmeridth.com/page15/" class="btn">Previous</a></li>
      
    

    
    
      <li><a href="https://blog.jasonmeridth.com/">1</a></li>
    

    
    
      
      
      <li>…</li>
    

    
    
    

    
      
        
        
        
        <li><a href="https://blog.jasonmeridth.com/page14/">14</a></li>
      
    
      
        
        
        
        <li><a href="https://blog.jasonmeridth.com/page15/">15</a></li>
      
    
      
        <li><strong class="current-page">16</strong></li>
      
    
      
        
        
        
        <li><a href="https://blog.jasonmeridth.com/page17/">17</a></li>
      
    
      
        
        
        
        <li><a href="https://blog.jasonmeridth.com/page18/">18</a></li>
      
    

    
    
      <li>…</li>
    

    
      <li><a href="https://blog.jasonmeridth.com/page56/">56</a></li>
    

    
    
      <li><a href="https://blog.jasonmeridth.com/page17/" class="btn">Next</a></li>
    
  </ul>
</div>


</div><!-- /#main -->

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="https://blog.jasonmeridth.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script type="text/javascript" src="https://blog.jasonmeridth.com/assets/js/scripts.min.js"></script>
<script type="text/javascript" async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
<script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>



<!-- Asynchronous Google Analytics snippet -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-38456568-3', 'auto');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>





<script type="text/javascript">
    sharing();
</script>



<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2018 Jason Meridth. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://github.com/aron-bordin/neo-hpstr-jekyll-theme" rel="nofollow">Neo-HPSTR Theme</a>.</span>

  </footer>
</div><!-- /.footer-wrapper -->

</body>
</html>
