<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Jason Meridth's Blog (command line)</title><link>http://blog.jasonmeridth.com/</link><description></description><atom:link href="http://blog.jasonmeridth.com/categories/command-line.xml" type="application/rss+xml" rel="self"></atom:link><language>en</language><lastBuildDate>Tue, 03 Feb 2015 11:02:33 GMT</lastBuildDate><generator>http://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Using sed and regex to Remove Prefix on Filenames</title><link>http://blog.jasonmeridth.com/posts/using-sed-and-regex-to-remove-prefix-on-filenames/</link><dc:creator>Jason Meridth</dc:creator><description>&lt;div&gt;&lt;p&gt;I used &lt;a href="https://github.com/dreikanter/wp2md"&gt;wp2md&lt;/a&gt; recently to generate &lt;a href="http://daringfireball.net/projects/markdown/"&gt;markdown&lt;/a&gt; files out of my wordpress posts so that I could migrate to a static blog generator (like &lt;a href="http://getnikola.com"&gt;Nikola&lt;/a&gt;, the one I chose to use on this blog).  However, this exported the files with a prefixing datetime stamp (e.g., 20140224-blog-title.md)&lt;/p&gt;
&lt;p&gt;I have used &lt;a href="http://www.gnu.org/software/sed/manual/sed.html"&gt;sed&lt;/a&gt; many times from my command line toolbox to rename files or content inside of files.  Here is how I removed the prefixing datetime stamp from my filenames.&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="k"&gt;for&lt;/span&gt; f in *.md&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$f&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sed -r &lt;span class="s1"&gt;'s/.*(\d*)-(.*\.md)/\2/'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;/pre&gt;


&lt;ul&gt;
&lt;li&gt;the for loop iterates over just my mardown files (files with the md extension)&lt;/li&gt;
&lt;li&gt;I echo out the filename into the sed command line tool via a pipe, you can send the results of one command to the input of another by piping them together (e.e., command1 | command2)&lt;/li&gt;
&lt;li&gt;Then I setup the regex s/old_string/new_string/&lt;ul&gt;
&lt;li&gt;I've learned when using group matching (the sections in the parenthses) and trying to replace the old_string with an entirely new string, you need to start the old_string with .*.  This causes the entire line to be replaced with the contents of the new string&lt;/li&gt;
&lt;li&gt;old_string regex&lt;ul&gt;
&lt;li&gt;(\d*) - first group match - any digit, 1 or more times&lt;/li&gt;
&lt;li&gt;"-" - a hyphen separating the match groups&lt;/li&gt;
&lt;li&gt;(.*.md) - second group match - anything, ending in .md&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;new_string regex&lt;ul&gt;
&lt;li&gt;\2 - replace the entire old string with the contents of the second group match&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Example&lt;/p&gt;
&lt;p&gt;&lt;code&gt;20140224-test-driven-development.md&lt;/code&gt; becomes &lt;code&gt;test-driven-development.md&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;NB: the ; do and ; done are just bash scripting loop notation when put onto one line.  This script could have also been written as&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="k"&gt;for&lt;/span&gt; f in *.md&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$f&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sed -r &lt;span class="s1"&gt;'s/.*(\d*)-(.*\.md)/\2/'&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;I am aware that &lt;a href="http://getnikola.com"&gt;Nikola&lt;/a&gt; has a &lt;a href="http://getnikola.com/handbook.html#importing-your-wordpress-site-into-nikola"&gt;wordpress importer&lt;/a&gt;, but it imports the files to &lt;em&gt;.wp and &lt;/em&gt;.meta.  I wanted &lt;a href="http://daringfireball.net/projects/markdown/"&gt;markdown&lt;/a&gt; files (*.md)&lt;/p&gt;
&lt;p&gt;NB: I also use &lt;a href="http://rubular.com"&gt;Rubular.com&lt;/a&gt; or &lt;a href="https://pythex.org"&gt;Pythex&lt;/a&gt; all the time to test out my regex expressions.  You should check them out.&lt;/p&gt;&lt;/div&gt;</description><category>command line</category><guid>http://blog.jasonmeridth.com/posts/using-sed-and-regex-to-remove-prefix-on-filenames/</guid><pubDate>Tue, 25 Feb 2014 03:39:00 GMT</pubDate></item><item><title>Dell Information Via Command Line</title><link>http://blog.jasonmeridth.com/posts/dell-information-via-command-line/</link><dc:creator>Jason Meridth</dc:creator><description>&lt;div&gt;&lt;p&gt;To get your Dell Service Tag from your workstation/laptop via command line:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;C:&lt;span class="se"&gt;\&amp;gt;&lt;/span&gt;wmic csproduct get vendor,name,identifyingnumber
IdentifyingNumber    Name                Vendor
ABCDEF1              Latitude E6520      Dell Inc.
&lt;/pre&gt;


&lt;p&gt;I looked for this and found it because my laptop was docked and I didnâ€™t want to have to dock it to look on the bottom of the laptop  &lt;/p&gt;&lt;/div&gt;</description><category>command line</category><category>dell</category><category>windows</category><guid>http://blog.jasonmeridth.com/posts/dell-information-via-command-line/</guid><pubDate>Mon, 15 Oct 2012 05:00:00 GMT</pubDate></item><item><title>Bash_profile vs Bashrc</title><link>http://blog.jasonmeridth.com/posts/bash-profile-vs-bashrc/</link><dc:creator>Jason Meridth</dc:creator><description>&lt;div&gt;&lt;p&gt;.bash_profile is sourced everytime you login to a bash shell either locally on the terminal or remotely via ssh&lt;/p&gt;
&lt;p&gt;.bashrc is sourced everytime you open a new shell after logging in&lt;/p&gt;
&lt;p&gt;I like to have my aliases stored in .bashrc and just have .bash_profile source my .bashrc file if it exists.&lt;/p&gt;
&lt;p&gt;I put the following in my .bash_profile&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -f ~/.bashrc &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
    &lt;span class="nb"&gt;source&lt;/span&gt; ~/.bashrc
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;This ensures my aliases and functions in my .bashrc are applied when I remotely ssh into my Linux boxes and it avoids duplication across multiple files.  &lt;/p&gt;&lt;/div&gt;</description><category>bash</category><category>command line</category><guid>http://blog.jasonmeridth.com/posts/bash-profile-vs-bashrc/</guid><pubDate>Sat, 06 Oct 2012 05:00:00 GMT</pubDate></item><item><title>PostgreSQL Command Line Cheat Sheet</title><link>http://blog.jasonmeridth.com/posts/postgresql-command-line-cheat-sheet/</link><dc:creator>Jason Meridth</dc:creator><description>&lt;div&gt;&lt;p&gt;change to postgres user and open psql prompt&lt;/p&gt;
&lt;pre class="code literal-block"&gt;sudo -u postgres psql postgres
&lt;/pre&gt;


&lt;p&gt;list databases&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# \l&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;list roles&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# \du&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;create role&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# CREATE ROLE demorole1 WITH LOGIN ENCRYPTED PASSWORD 'password1' CREATEDB;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;create role with multiple privileges&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# CREATE ROLE demorole1 WITH LOGIN ENCRYPTED PASSWORD&lt;/span&gt;
&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# 'password1' CREATEDB CREATEROLE REPLICATION SUPERUSER;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;alter role&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# ALTER ROLE demorole1 CREATEROLE CREATEDB REPLICATION SUPERUSER;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;drop role&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# DROP ROLE demorole1;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;create database&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# CREATE DATABASE demodb1 WITH OWNER demorole1 ENCODING 'UTF8';&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;grant privileges to new user&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# GRANT ALL PRIVILEGES ON DATABASE demodb1 TO demorole1;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;drop database&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# DROP DATABASE demodb1;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;connect to database&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# \c &amp;lt;databasename&amp;gt;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;list tables in connected database&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# \dt&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;list columns on table&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;postgres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="c"&gt;# \d &amp;lt;tablename&amp;gt;&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;backup database&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;pg_dump &amp;lt;databasename&amp;gt; &amp;gt; &amp;lt;outfile&amp;gt; 
&lt;/pre&gt;&lt;/div&gt;</description><category>command line</category><category>postgresql</category><guid>http://blog.jasonmeridth.com/posts/postgresql-command-line-cheat-sheet/</guid><pubDate>Tue, 02 Oct 2012 05:00:00 GMT</pubDate></item><item><title>Testing Mail From the Command Line on Ubuntu</title><link>http://blog.jasonmeridth.com/posts/testing-mail-from-the-command-line-on-ubuntu/</link><dc:creator>Jason Meridth</dc:creator><description>&lt;div&gt;&lt;p&gt;Install mailutils&lt;/p&gt;
&lt;pre class="code literal-block"&gt;sudo apt-get install mailutils
&lt;/pre&gt;


&lt;p&gt;Send some test piped into the mail command&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"testing"&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; mail -s Test user@emailhost.com
&lt;/pre&gt;


&lt;p&gt;Check the email address listed above&lt;/p&gt;&lt;/div&gt;</description><category>command line</category><category>ubuntu</category><guid>http://blog.jasonmeridth.com/posts/testing-mail-from-the-command-line-on-ubuntu/</guid><pubDate>Wed, 19 Sep 2012 05:00:00 GMT</pubDate></item></channel></rss>