<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Jason Meridth's Blog (rvm)</title><link>http://blog.jasonmeridth.com/</link><description></description><language>en</language><lastBuildDate>Mon, 18 Aug 2014 14:01:19 GMT</lastBuildDate><generator>http://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Setup RVM and Ruby</title><link>http://blog.jasonmeridth.com/posts/setup-rvm-and-ruby/</link><dc:creator>Jason Meridth</dc:creator><description>&lt;p&gt;I’m putting this here so that I have it saved. I’ve done this many times and until I automate it with a Puppet or Chef script….&lt;/p&gt;
&lt;p&gt;Install curl&lt;/p&gt;
&lt;pre class="code literal-block"&gt;sudo apt-get install curl
&lt;/pre&gt;


&lt;p&gt;Install RVM (forgot this, thanks &lt;a href="http://twitter.com/jssingh"&gt;Jasdeep&lt;/a&gt;)&lt;/p&gt;
&lt;pre class="code literal-block"&gt;curl -L get.rvm.io | bash -s stable --auto
&lt;/pre&gt;


&lt;p&gt;Reload .bash_profile&lt;/p&gt;
&lt;pre class="code literal-block"&gt;. ~/.bash_profile
&lt;/pre&gt;


&lt;p&gt;Run rvm requirements to see what needs to be installed&lt;/p&gt;
&lt;pre class="code literal-block"&gt;rvm requirements
...
Requirements &lt;span class="k"&gt;for &lt;/span&gt;ubuntu/12.10/x86_64

NOTE: &lt;span class="s1"&gt;'ruby'&lt;/span&gt; represents Matz&lt;span class="s1"&gt;'s Ruby Interpreter (MRI) (1.8.X, 1.9.X)&lt;/span&gt;
&lt;span class="s1"&gt;             This is the *original* / standard Ruby Language Interpreter&lt;/span&gt;
&lt;span class="s1"&gt;      '&lt;/span&gt;ree&lt;span class="s1"&gt;'  represents Ruby Enterprise Edition&lt;/span&gt;
&lt;span class="s1"&gt;      '&lt;/span&gt;rbx&lt;span class="err"&gt;'&lt;/span&gt;  represents Rubinius

Additional Dependencies:
&lt;span class="c"&gt;# For update-system:&lt;/span&gt;
sudo apt-get update

&lt;span class="c"&gt;# For rvm:&lt;/span&gt;
sudo apt-get --no-install-recommends install bash curl git patch bzip2

&lt;span class="c"&gt;# For ruby:&lt;/span&gt;
sudo apt-get --no-install-recommends install build-essential openssl libreadline6 libreadline6-dev &lt;span class="se"&gt;\&lt;/span&gt;
curl git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-dev sqlite3 &lt;span class="se"&gt;\&lt;/span&gt;
libxml2-dev libxslt-dev autoconf libc6-dev libgdbm-dev ncurses-dev automake libtool bison &lt;span class="se"&gt;\&lt;/span&gt;
subversion pkg-config libffi-dev

&lt;span class="c"&gt;# For jruby:&lt;/span&gt;
sudo apt-get --no-install-recommends install curl g%2B%2B openjdk-6-jre-headless
&lt;/pre&gt;


&lt;p&gt;Install everything you need&lt;/p&gt;
&lt;pre class="code literal-block"&gt;sudo apt-get install build-essential openssl libreadline6 libreadline6-dev &lt;span class="se"&gt;\&lt;/span&gt;
curl git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-dev sqlite3 &lt;span class="se"&gt;\&lt;/span&gt;
libxml2-dev libxslt-dev autoconf libc6-dev ncurses-dev automake libtool bison  &lt;span class="se"&gt;\&lt;/span&gt;
subversion pkg-config libffi-dev
&lt;/pre&gt;


&lt;p&gt;Install Ruby&lt;/p&gt;
&lt;pre class="code literal-block"&gt;rvm install 1.9.3
...
Searching &lt;span class="k"&gt;for &lt;/span&gt;binary rubies, this might take some time.
ruby-1.9.3-p392 - &lt;span class="c"&gt;#configure&lt;/span&gt;
ruby-1.9.3-p392 - &lt;span class="c"&gt;#download&lt;/span&gt;
&lt;span class="c"&gt;#############################################                             62.9%&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;Begin to use ruby&lt;/p&gt;
&lt;pre class="code literal-block"&gt;rvm use 1.9.3
...
Using /home/vagrant/.rvm/gems/ruby-1.9.3-p392
&lt;/pre&gt;


&lt;p&gt;Check your Ruby version&lt;/p&gt;
&lt;pre class="code literal-block"&gt;ruby -v
...
ruby 1.9.3p392 &lt;span class="o"&gt;(&lt;/span&gt;2013-02-22 revision 39386&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt;x86_64-linux&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;Set your default ruby version&lt;/p&gt;
&lt;pre class="code literal-block"&gt;rvm --default use 1.9.3-p327
...
Using /home/vagrant/.rvm/gems/ruby-1.9.3-p392
&lt;/pre&gt;


&lt;p&gt;As [Jasdeep][2] says in the comments, it is worth knowing that you’ll need a javascript runtime to use Rails so you might as well install nodejs (because it is fun):&lt;/p&gt;
&lt;pre class="code literal-block"&gt;sudo apt-get install nodejs
&lt;/pre&gt;</description><category>ruby</category><category>rvm</category><category>tools</category><guid>http://blog.jasonmeridth.com/posts/setup-rvm-and-ruby/</guid><pubDate>Wed, 06 Mar 2013 06:00:00 GMT</pubDate></item><item><title>Readline Error With RVM and Rails 3 on Ubuntu</title><link>http://blog.jasonmeridth.com/posts/readline-error-with-rvm-and-rails-3/</link><dc:creator>Jason Meridth</dc:creator><description>&lt;p&gt;So I’m using Rails 3 with RVM these days. The last few times I created a new slice or restaged a laptop/desktop with Ubuntu I always seem to have an issue when I try to run the Rails console:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;my_app/&lt;span class="o"&gt;(&lt;/span&gt;master&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;rails console
/home/jmeridth/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/irb/completion.rb:9:in &lt;span class="sb"&gt;`&lt;/span&gt;require&lt;span class="s1"&gt;': no such file to load -- readline (LoadError)&lt;/span&gt;
&lt;span class="s1"&gt;from /home/jmeridth/.rvm/rubies/ruby-1.9.2-p0/lib/ruby/1.9.1/irb/completion.rb:9:in `'&lt;/span&gt;
from /code/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.0.1/lib/rails/commands/console.rb:3:in &lt;span class="sb"&gt;`&lt;/span&gt;require&lt;span class="s1"&gt;'&lt;/span&gt;
&lt;span class="s1"&gt;from /code/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.0.1/lib/rails/commands/console.rb:3:in `'&lt;/span&gt;
from /code/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.0.1/lib/rails/commands.rb:20:in &lt;span class="sb"&gt;`&lt;/span&gt;require&lt;span class="s1"&gt;'&lt;/span&gt;
&lt;span class="s1"&gt;from /code/my_app/shared/bundle/ruby/1.9.1/gems/railties-3.0.1/lib/rails/commands.rb:20:in `'&lt;/span&gt;
from script/rails:6:in &lt;span class="sb"&gt;`&lt;/span&gt;require&lt;span class="s1"&gt;'&lt;/span&gt;
&lt;span class="s1"&gt;from script/rails:6:in `'&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;I looked at the RVM site and saw how to install the readline package:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;rvm package install readline
&lt;span class="nv"&gt;$ &lt;/span&gt;rvm remove 1.9.2
&lt;span class="nv"&gt;$ &lt;/span&gt;rvm install 1.9.2 --with-readline-dir&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$rvm_path&lt;/span&gt;/usr
&lt;/pre&gt;


&lt;p&gt;I did this and it still didn’t work. The advice I received from googling was to compile the readline extension by hand and see if any dependencies were missing:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo apt-get install libncurses5-dev libreadline5-dev
&lt;span class="nv"&gt;$ &lt;/span&gt;ruby ~/.rvm/src/ruby-1.9.2-p0/readline/ext/extconf.rb
checking &lt;span class="k"&gt;for &lt;/span&gt;tgetnum&lt;span class="o"&gt;()&lt;/span&gt; in -lncurses... no
checking &lt;span class="k"&gt;for &lt;/span&gt;readline/readline.h... no
checking &lt;span class="k"&gt;for &lt;/span&gt;readline/history.h... no
checking &lt;span class="k"&gt;for &lt;/span&gt;readline&lt;span class="o"&gt;()&lt;/span&gt; in -lreadline... no
...
&lt;/pre&gt;


&lt;p&gt;This meant that I was missing the lncurses and libreadline libraries from apt-get.&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo apt-get install libncurses5-dev libreadline5-dev
...they install...
&lt;/pre&gt;


&lt;p&gt;Now when I run extconf.rb, everything is there:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;ruby ~/.rvm/src/ruby-1.9.2-p0/readline/ext/extconf.rb
checking &lt;span class="k"&gt;for &lt;/span&gt;tgetnum&lt;span class="o"&gt;()&lt;/span&gt; in -lncurses... yes
checking &lt;span class="k"&gt;for &lt;/span&gt;readline/readline.h.... yes
checking &lt;span class="k"&gt;for &lt;/span&gt;readline/history.h... yes
checking &lt;span class="k"&gt;for &lt;/span&gt;readline&lt;span class="o"&gt;()&lt;/span&gt; in -lreadline... yes
...
&lt;/pre&gt;


&lt;p&gt;A make file was generated, I run it, and then install:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ~/.rvm/src/ruby-1.9.2-p0/readline/ext/
&lt;span class="nv"&gt;$ &lt;/span&gt;make
...
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo make install
...
&lt;/pre&gt;


&lt;p&gt;Now the rails console works:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;my_app&lt;span class="nv"&gt;$ &lt;/span&gt;rails console
Loading development environment &lt;span class="o"&gt;(&lt;/span&gt;Rails 3.0.3&lt;span class="o"&gt;)&lt;/span&gt;
ruby-1.9.2-p0 &amp;amp;gt;
&lt;/pre&gt;</description><category>rails</category><category>rvm</category><guid>http://blog.jasonmeridth.com/posts/readline-error-with-rvm-and-rails-3/</guid><pubDate>Thu, 25 Nov 2010 06:00:00 GMT</pubDate></item></channel></rss>